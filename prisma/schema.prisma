generator client {
    provider = "prisma-client-js"
}

// SUPABASE_SESSION    for model updates
// SUPABASE_TRANSACTION    for queries (prod)

datasource db {
    provider = "postgresql"
    url      = env("SUPABASE_TRANSACTION")
}

model Payable {
    id          String   @id @default(uuid())
    createdAt   DateTime @default(now())
    updatedAt   DateTime @updatedAt
    name        String   @db.VarChar(255)
    payedTo     String   @db.VarChar(255)
    description String   @db.VarChar(255)
    amount      Decimal  @db.Decimal(10, 2)

    authorId        String @db.VarChar(255)
}

model Receivable {
    id           String   @id @default(uuid())
    createdAt    DateTime @default(now())
    updatedAt    DateTime @updatedAt
    name         String   @db.VarChar(255)
    receivedFrom String   @db.VarChar(255)
    description  String   @db.VarChar(255)
    amount       Decimal  @db.Decimal(10, 2)

    authorId String @db.VarChar(255)
}

model Section {
    id          String   @id @default(uuid())
    createdAt   DateTime @default(now())
    updatedAt   DateTime @updatedAt
    name        String   @db.VarChar(255)
    description String   @db.VarChar(255)
    amount      Decimal  @db.Decimal(10, 2)

    sectionGroupId String @db.VarChar(255)
    sectionGroup SectionGroup @relation(fields: [sectionGroupId], references: [id])

    authorId String @db.VarChar(255)
}

model SectionGroup {
    id          String   @id @default(uuid())
    createdAt   DateTime @default(now())
    updatedAt   DateTime @updatedAt
    name        String   @db.VarChar(255)
    description String   @db.VarChar(255)
    authorId String @db.VarChar(255)

    sections Section[]
}